local Fluent = loadstring(game:HttpGet("https://raw.githubusercontent.com/Fluent/Fluent/main/Fluent.lua"))()

-- Load external SaveManager and InterfaceManager scripts
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

local Window = Fluent:CreateWindow("My Script", {
    Size = UDim2.new(0, 500, 0, 400),
    Theme = Fluent.Themes.Dark
})

local Tabs = Window:AddTabs({
    "Main"
})

-- Initialize save system
SaveManager:Load()

-- Main tab features
Tabs.Main:AddParagraph({
    Title = "----Script Hub----",
    Content = "Here are some useful features for the game!"
})

-- AutoFarm button example
Tabs.Main:AddButton({
    Title = "AutoFarm weights (equip any farming tools)",
    Description = "Automatically farm weights by equipping any farming tool.",
    Callback = function()
        while true do
            local args = {
                [1] = "rep"
            }
            game:GetService("Players").LocalPlayer.muscleEvent:FireServer(unpack(args))
            game:GetService("RunService").RenderStepped:Wait()
        end
    end
})

-- Fast weight button (client-side)
Tabs.Main:AddButton({
    Title = "Fast weight (client side)(Unequip Weight first!)",
    Description = "Instantly set the weight to 0.",
    Callback = function()
        game:GetService("Players").LocalPlayer.Backpack.Weight:FindFirstChildOfClass("NumberValue").Value = 0
    end
})

-- AutoBrawl toggle example (God Mode)
local AutoBrawlToggle = Tabs.Main:AddToggle("AutoBrawlGodMode", {
    Title = "Auto Join Brawl (God mode)",
    Default = false
})

AutoBrawlToggle:OnChanged(function()
    if AutoBrawlToggle.Value then
        _G.autobrawl = true
        repeat
            local args = { [1] = "joinBrawl" }
            game:GetService("ReplicatedStorage").rEvents.brawlEvent:FireServer(unpack(args))
            game:GetService("RunService").RenderStepped:Wait()
        until not _G.autobrawl
    else
        _G.autobrawl = false
    end
end)

-- Auto Join Brawl (For Farming) toggle example
local AutoBrawlFarmToggle = Tabs.Main:AddToggle("AutoBrawlForFarming", {
    Title = "Auto Join Brawl (For Farming)",
    Default = false
})

AutoBrawlFarmToggle:OnChanged(function()
    if AutoBrawlFarmToggle.Value then
        _G.autobrawl = true
        repeat
            local args = { [1] = "joinBrawl" }
            game:GetService("ReplicatedStorage").rEvents.brawlEvent:FireServer(unpack(args))
            for i = 1, 60 do
                if not _G.autobrawl then break end
                wait(1)
            end
        until not _G.autobrawl
    else
        _G.autobrawl = false
    end
end)

-- SaveManager functionality (Auto-save and load settings)
SaveManager:Save()

-- InterfaceManager for controlling UI visibility
InterfaceManager:SetVisibility({
    Main = true
})

-- Example of toggling theme or UI appearance
Tabs.Main:AddButton({
    Title = "Toggle Theme",
    Description = "Switch between Dark and Light themes.",
    Callback = function()
        if Window.Theme == Fluent.Themes.Dark then
            Window:UpdateTheme(Fluent.Themes.Light)
        else
            Window:UpdateTheme(Fluent.Themes.Dark)
        end
    end
})

-- Show the window
Window:Show()
