local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

local Window = Fluent:CreateWindow({
    Title = "Beamed v2 " .. Fluent.Version,
    SubTitle = "by ben1x1x1x1x/ben",
    TabWidth = 125,
    Size = UDim2.fromScale(0.9, 0.8),
    Position = UDim2.fromScale(0.05, 0.1),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

-- GUI for Key Input
local KeyInputWindow = Fluent:CreateWindow({
    Title = "Enter Key",
    SubTitle = "Beamed v2 Key System",
    Size = UDim2.fromScale(0.5, 0.3),
    Position = UDim2.fromScale(0.25, 0.35),
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

-- Textbox for the key
local KeyTextbox = KeyInputWindow:AddTextbox({
    Title = "Enter Key",
    Text = "",
    PlaceholderText = "Enter key here",
    ClearTextOnFocus = true,
    Callback = function(key)
        if key == "Beamed" then
            KeyInputWindow:Destroy() -- Close the key window
            LoadScript() -- Load the main script
        else
            Fluent:Notify({
                Title = "Invalid Key",
                Content = "The key you entered is incorrect!",
                Duration = 5
            })
        end
    end
})

-- Function to load the script after key is verified
function LoadScript()
    local Tabs = {
        Main = Window:AddTab({ Title = "Main", Icon = "" }),
        Settings = Window:AddTab({ Title = "Settings", Icon = "settings" })
    }

    local Options = Fluent.Options

    Fluent:Notify({
        Title = "Notification",
        Content = "Beamed v2 Loaded!",
        SubContent = "SubContent",
        Duration = 5
    })

    -- AutoFarm weights
    Tabs.Main:AddButton({
        Title = "AutoFarm weights (equip any farming tools)",
        Description = "Activates auto farming with the equipped tools.",
        Callback = function()
            while true do
                local args = { [1] = "rep" }
                game:GetService("Players").LocalPlayer.muscleEvent:FireServer(unpack(args))
                game:GetService("RunService").RenderStepped:Wait()
            end
        end
    })

    -- Additional features...
    -- Add other buttons, settings, etc. as needed
end

Window:SelectTab(1)

-- Display key input window initially
KeyInputWindow:Show()

Fluent:Notify({
    Title = "Beamed v2",
    Content = "Please enter the key to continue.",
    Duration = 8
})
